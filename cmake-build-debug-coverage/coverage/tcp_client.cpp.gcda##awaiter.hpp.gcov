        -:    0:Source:/home/df/Documents/workspace/async_runtime/include/ar/awaiter.hpp
        -:    0:Graph:/home/df/Documents/workspace/async_runtime/cmake-build-debug-coverage/examples/CMakeFiles/tcp_client.dir/tcp_client.cpp.gcno
        -:    0:Data:/home/df/Documents/workspace/async_runtime/cmake-build-debug-coverage/examples/CMakeFiles/tcp_client.dir/tcp_client.cpp.gcda
        -:    0:Runs:1
        -:    1:#ifndef AR_AWAITER_H
        -:    2:#define AR_AWAITER_H
        -:    3:
        -:    4:#include <utility>
        -:    5:
        -:    6:#include "ar/task.hpp"
        -:    7:#include "ar/coroutine.hpp"
        -:    8:
        -:    9:
        -:   10:namespace AsyncRuntime::Awaiter {
        -:   11:    typedef std::function<void(void*)> ResumeCb;
        -:   12:
        -:   13:
        -:   14:    template<class Ret, class Res>
        -:   15:    inline
        -:   16:    Ret Await(const std::shared_ptr<Res>& result, ResumeCb resume_cb, CoroutineHandler* handler = nullptr);
        -:   17:
        -:   18:
        -:   19:    template<class Ret>
function _ZN12AsyncRuntime7Awaiter5AwaitIiEET_RKSt10shared_ptrINS_6ResultIS2_EEESt8functionIFvPvEEPNS_16CoroutineHandlerE called 4 returned 100% blocks executed 69%
        4:   20:    inline Ret Await(const std::shared_ptr<Result<Ret>>& result, ResumeCb resume_cb, CoroutineHandler* handler) {
        4:   21:        if(handler != nullptr) {
        4:   21-block  0
branch  0 taken 4 (fallthrough)
branch  1 taken 0
        4:   22:            if (result->Then(resume_cb, handler)) {
        4:   22-block  0
call    0 returned 4
call    1 returned 4
branch  2 taken 4 (fallthrough)
branch  3 taken 0
        -:   23:                //suspend this
        4:   24:                handler->Suspend();
        4:   24-block  0
call    0 returned 4
        -:   25:                //resume this
        -:   26:            }else{
    #####:   27:                result->Wait();
    %%%%%:   27-block  0
call    0 never executed
call    1 never executed
        -:   28:            }
        -:   29:        }else{
    #####:   30:            result->Wait();
    %%%%%:   30-block  0
call    0 never executed
call    1 never executed
        -:   31:        }
        -:   32:
        4:   33:        return result->Get();
        4:   33-block  0
call    0 returned 4
call    1 returned 4
        -:   34:    }
        -:   35:}
        -:   36:
        -:   37:
        -:   38:#endif //AR_AWAITER_H
